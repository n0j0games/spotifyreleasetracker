<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>releasr - Spotify Release Tracker</title>
    <script type="module" src="index.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@100;300;400;500;700;800;900&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;500;700&display=swap">
    <script src="https://kit.fontawesome.com/038f795198.js" crossorigin="anonymous"></script>
    <link rel="icon" href="images/favicon_transparent.png">
</head>
<body onload="onPageLoad()">
    <div id="error">
        <div id="errorSub">
            <p id="errorTitle">Title</p>
            <p id="errorSubtitle">Subtitle</p>
        </div>
        <i onclick="showError(false, null, null)" class="fa-solid fa-xmark"></i>
    </div>
    <!-- User-Info Section -->
    <p id="mainTitle">releasr</p>
    <div id="loginInfo">
        <img id="loginImg" src="images/profilepic.png" alt="">
        <p id="loginUser">Not logged in</p>
        <button id="artistBtn" onclick="enableArtistsDiv(true)"><i class="fa-solid fa-gear"></i></button>
        <button id="logoutBtn" onclick="logout()"><i class="fa-solid fa-right-from-bracket"></i></button>
    </div>
    <!-- Auth-Section -->
    <section id="authorize">
        <p id="welcomeTitle">Spotify Release Tracker</p>
        <p id="description">Sign in with your Spotify account to get a list of new releases for each artist you follow</p>
        <button id="authbutton" onclick="requestAuthorization()">Authorize</button>
        <img id="preview" src="images/preview.png" alt="">
        <p id="footer">We are not related to Spotify AB or any of it´s partners in any way. &nbsp;&#8226;&nbsp;
            Made by <a href="https://noahschuette.de">Noah Schütte</a> <br>
            This page only caches basic user information to keep you logged in and requests a list of the artists you're following
        </p>
    </section>
    <!-- App Section -->
    <section id="app">
        <p id="title">Latest Releases</p>
        <div id="filter" class="filter">
            <button id="albumsbtn" class="inactiveBtn" onclick="toggleAlbumType(true)">Albums</button>
            <button id="singlebtn" class="inactiveBtn" onclick="toggleAlbumType(false)">Singles</button>
            <button id="featureBtn" class="inactiveBtn" onclick="toggleFeatures()">Hide Features</button>
        </div>
        <div id="releases">
            <p id="noartists">Either you're not following anyone on Spotify, or there aren't any recent releases for your artists.<br>
            Edit your artists by clicking on the gear symbol (<i class="fa-solid fa-gear"></i>)</p>
            <p id="emptyfilter">No recent releases found for your artists. Try another filter.</p>
        </div>
    </section>
    <!--<div id="overlay" onclick="hideOverlay()">
        <div id="innerOverlay">
            <img id="overlayImg" src='' alt="">
            <p id="overlayTitle">Test</p>
            <p id="overlayAuthor">Test</p>
        </div>
    </div>-->
    <section id="artistPopup">
        <ul id="artistFG">
            <li id="artistsTopContent">
                <div class="artistsManageDiv" id="artistAdd">
                    <input id="artistAddInput" type="text" placeholder="Enter Artist ID or Share-Link">
                    <button onclick="addArtist()" id="artistAddBtn">Add</button>
                </div>
                <div class="artistsManageDiv">
                    <button onclick="syncArtists()" id="artistSync">Sync with spotify</button>
                    <button onclick="resetArtists()" id="artistReset">Reset Artists</button>
                </div>
            </li>
        </ul>
        <button onclick="enableArtistsDiv(false)" id="artistClose"><i class="fa-solid fa-xmark"></i> CLOSE</button>
    </section>
</body>
</html>